(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{195:function(a,t,s){"use strict";s.r(t);var r=s(6),e=Object(r.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"rollup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#rollup"}},[a._v("#")]),a._v(" Rollup")]),a._v(" "),s("h2",{attrs:{id:"reference"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[a._v("#")]),a._v(" Reference")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://remarkablemark.org/blog/2019/07/12/rollup-commonjs-umd/",target:"_blank",rel:"noopener noreferrer"}},[a._v("rollup-commonjs-umd"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://chenshenhai.github.io/rollupjs-note/note/chapter02/02-05.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("rollupjs-note"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://dev.to/plebras/setting-up-a-javascript-build-process-using-rollup-n1e",target:"_blank",rel:"noopener noreferrer"}},[a._v("Setting JS Build"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://www.sitepoint.com/rollup-javascript-bundler-introduction/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Intro to Rollup"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://juejin.cn/post/6844904058394771470",target:"_blank",rel:"noopener noreferrer"}},[a._v("juejin Rollup usage"),s("OutboundLink")],1)]),a._v(" "),s("li",[s("a",{attrs:{href:"https://rollupjs.org/guide/en/",target:"_blank",rel:"noopener noreferrer"}},[a._v("Rollup docs"),s("OutboundLink")],1)])]),a._v(" "),s("h2",{attrs:{id:"起步"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#起步"}},[a._v("#")]),a._v(" 起步")]),a._v(" "),s("blockquote",[s("p",[a._v("Node >= 10")])]),a._v(" "),s("h2",{attrs:{id:"安装依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装依赖"}},[a._v("#")]),a._v(" 安装依赖")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("npm")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("install")]),a._v(" -g rollupjs\n")])])]),s("h2",{attrs:{id:"打包脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打包脚本"}},[a._v("#")]),a._v(" 打包脚本")]),a._v(" "),s("ol",[s("li",[a._v("命令行打包")])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/XinChou16/bundle-demos/blob/master/rollup-demo/v2/start/package.json",target:"_blank",rel:"noopener noreferrer"}},[a._v("源码地址"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("rollup main.js --file bundle.js --format iife\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("使用配置文件 "),s("code",[a._v("rollup.config.js")])])]),a._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/XinChou16/bundle-demos/blob/master/rollup-demo/v2/02-with-config/rollup.config.js",target:"_blank",rel:"noopener noreferrer"}},[a._v("源码地址"),s("OutboundLink")],1)]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("rollup main.js --file bundle.js --format umd --config rollup.config.js\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("打包输出多种模块规范文件")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[a._v("rollup main.js --file bundle.js --format umd\nrollup main.js --file bundle.js --format cjs\n")])])]),s("h2",{attrs:{id:"常用插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用插件"}},[a._v("#")]),a._v(" 常用插件")]),a._v(" "),s("ol",[s("li",[a._v("编译JS代码")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D rollup-plugin-babel\n")])])]),s("ol",{attrs:{start:"2"}},[s("li",[a._v("编译 TS 代码")])]),a._v(" "),s("p",[a._v("官方插件")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D @rollup/plugin-typescript\n")])])]),s("p",[a._v("但另一个包用的也比较多，上面这个包会出现无法解决的问题，同事是使用这个包：")]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D rollup-plugin-typescript2\n")])])]),s("ol",{attrs:{start:"3"}},[s("li",[a._v("加载第三方模块")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D @rollup/plugin-node-resolve\n")])])]),s("ol",{attrs:{start:"4"}},[s("li",[a._v("将CJS模块的第三方库转换为ES6模块规范")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D @rollup/plugin-commonjs typescript\n")])])]),s("ol",{attrs:{start:"5"}},[s("li",[a._v("压缩代码")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D rollup-plugin-terser\n")])])]),s("ol",{attrs:{start:"6"}},[s("li",[a._v("全局变量替换插件")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D @rollup/plugin-replace\n")])])]),s("ol",{attrs:{start:"7"}},[s("li",[a._v("路径别名解析插件")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D @rollup/plugin-alias\n")])])]),s("ol",{attrs:{start:"8"}},[s("li",[a._v("转换JSON文件为ES6模块")])]),a._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[a._v("yarn")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("add")]),a._v(" -D @rollup/plugin-json\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);