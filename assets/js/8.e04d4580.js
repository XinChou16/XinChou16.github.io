(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{192:function(e,r,t){"use strict";t.r(r);var s=t(6),a=Object(s.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"使用脚本文件进行打包"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用脚本文件进行打包"}},[e._v("#")]),e._v(" 使用脚本文件进行打包")]),e._v(" "),t("h1",{attrs:{id:"背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#背景"}},[e._v("#")]),e._v(" 背景")]),e._v(" "),t("p",[e._v("项目中存在多个文件目录，每个目录都有 "),t("code",[e._v("package.json")]),e._v("，打包脚本都需要进入各个文件夹内进行打包，较为繁琐")]),e._v(" "),t("h2",{attrs:{id:"方案"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#方案"}},[e._v("#")]),e._v(" 方案")]),e._v(" "),t("p",[e._v("使用 "),t("code",[e._v("node")]),e._v(" 启动单独的脚本来打包各个文件夹，使用第三方库，如"),t("a",{attrs:{href:"https://github.com/sindresorhus/execa",target:"_blank",rel:"noopener noreferrer"}},[t("code",[e._v("execa")]),t("OutboundLink")],1),e._v("来进行执行")]),e._v(" "),t("p",[e._v("当执行"),t("code",[e._v("yarn dev")]),e._v("，需要进入到子目录下，这个如何实现呢。通过查阅资料，其实npm和yarn都提供了命令来改变执行的工作目录")]),e._v(" "),t("p",[t("strong",[e._v("yarn")])]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" --cwd your-sub-folder "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("yarn")]),e._v(" --cwd your sub-folder build\n")])])]),t("p",[t("strong",[e._v("npm")])]),e._v(" "),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-sh"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("install")]),e._v(" --prefix your-sub-folder\n"),t("span",{pre:!0,attrs:{class:"token function"}},[e._v("npm")]),e._v(" build --prefix your-sub-folder\n")])])]),t("h2",{attrs:{id:"reference"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#reference"}},[e._v("#")]),e._v(" reference")]),e._v(" "),t("ul",[t("li",[t("a",{attrs:{href:"https://github.com/sindresorhus/execa",target:"_blank",rel:"noopener noreferrer"}},[e._v("execa"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://docs.npmjs.com/cli/v7/using-npm/config#prefix",target:"_blank",rel:"noopener noreferrer"}},[e._v("--prefix in npm"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/36172442/how-can-i-get-npm-start-at-a-different-directory",target:"_blank",rel:"noopener noreferrer"}},[e._v("--cwd in yarn"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://stackoverflow.com/questions/32783885/is-it-possible-to-use-npm-to-run-scripts-in-multiple-subfolders",target:"_blank",rel:"noopener noreferrer"}},[e._v("stackoverflow"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/XinChou16/vue-url-search-params/blob/main/scripts/release.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("execa usage reference url search params"),t("OutboundLink")],1)]),e._v(" "),t("li",[t("a",{attrs:{href:"https://github.com/vuejs/vue-next/blob/master/scripts/build.js",target:"_blank",rel:"noopener noreferrer"}},[e._v("vue-next build scripts"),t("OutboundLink")],1)])])])}),[],!1,null,null,null);r.default=a.exports}}]);